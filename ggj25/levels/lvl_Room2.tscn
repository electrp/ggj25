[gd_scene load_steps=11 format=3 uid="uid://d3bggev6qbl5r"]

[ext_resource type="Shader" path="res://assets/shaders/psx.gdshader" id="1_b66xp"]
[ext_resource type="Material" uid="uid://b7emld1r7yxmu" path="res://assets/materials/mat_Floor.tres" id="2_gffk1"]
[ext_resource type="Material" uid="uid://bglg5a4gy00pv" path="res://assets/materials/mat_Wall.tres" id="3_kr63e"]
[ext_resource type="PackedScene" uid="uid://b5logkqgxqaun" path="res://prefabs/pf_Player.tscn" id="4_eowoj"]
[ext_resource type="PackedScene" uid="uid://j4sd65yaxc0i" path="res://prefabs/pf_BubbleSpawner.tscn" id="5_w5vv4"]
[ext_resource type="PackedScene" uid="uid://r5iernwak6gt" path="res://prefabs/pf_PauseMenu.tscn" id="11_hp051"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1nht1"]
shader = ExtResource("1_b66xp")
shader_parameter/enabled = true
shader_parameter/dithering = true
shader_parameter/colors = 12
shader_parameter/dither_size = 1

[sub_resource type="GDScript" id="GDScript_v1rev"]
script/source = "extends RigidBody3D

@export var power: float
@export var angular_const: Vector3
var time = 0.0;

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _physics_process(delta: float) -> void:
	time += delta
	self.linear_velocity.x = power * sin(time)
	self.angular_velocity = angular_const
	pass
"

[sub_resource type="BoxShape3D" id="BoxShape3D_qmt7k"]
size = Vector3(1.92715, 5.00887, 0.309748)

[sub_resource type="BoxMesh" id="BoxMesh_ueh2b"]

[node name="Node3D2" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0299072, 0.0289321, -0.00490856)

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_1nht1")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 2.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 2

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(640, 360)
render_target_update_mode = 4

[node name="Floor" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(100.099, 0, 0, 0, 1.00099, 0, 0, 0, 100.099, 1.3651, 0.354833, 0.112576)
material_override = ExtResource("2_gffk1")
use_collision = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-0.0130407, -0.914685, 0.403957, -0.0295129, 0.404168, 0.914209, -0.999479, -3.72199e-08, -0.0322656, 13.3562, 19.5897, 0)

[node name="Player" parent="SubViewportContainer/SubViewport" instance=ExtResource("4_eowoj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.97888, 1.82582, 7.42384)

[node name="BubbleSpawner" parent="SubViewportContainer/SubViewport" instance=ExtResource("5_w5vv4")]
transform = Transform3D(-4.37114e-08, -0.130368, -4.37114e-08, 0, -5.69858e-09, 1, -1, 5.69858e-09, 1.91069e-15, 2.06942, 2.25992, 6.07424)

[node name="Node3D" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.28138, 0)

[node name="RigidBody3D" type="RigidBody3D" parent="SubViewportContainer/SubViewport/Node3D" groups=["poppable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.976417, 0)
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_z = true
gravity_scale = 0.0
script = SubResource("GDScript_v1rev")
angular_const = Vector3(0, 0.3, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Node3D/RigidBody3D"]
shape = SubResource("BoxShape3D_qmt7k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Node3D/RigidBody3D"]
transform = Transform3D(1.92715, 0, 0, 0, 5.00887, 0, 0, 0, 0.309748, 0, 0, 0)
mesh = SubResource("BoxMesh_ueh2b")

[node name="Node3D2" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.94917, 4.20029, 0)

[node name="RigidBody3D" type="RigidBody3D" parent="SubViewportContainer/SubViewport/Node3D2" groups=["poppable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0971911, -0.898945, 0)
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_z = true
gravity_scale = 0.0
script = SubResource("GDScript_v1rev")
angular_const = Vector3(0, -0.3, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Node3D2/RigidBody3D"]
shape = SubResource("BoxShape3D_qmt7k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Node3D2/RigidBody3D" groups=["poppable"]]
transform = Transform3D(1.92715, 0, 0, 0, 5.00887, 0, 0, 0, 0.309748, 0, 0, 0)
mesh = SubResource("BoxMesh_ueh2b")

[node name="Node3D3" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.94917, 4.20029, -4.68296)

[node name="RigidBody3D" type="RigidBody3D" parent="SubViewportContainer/SubViewport/Node3D3" groups=["poppable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0971911, -0.898945, 0)
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
gravity_scale = 0.0
script = SubResource("GDScript_v1rev")
power = 1.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Node3D3/RigidBody3D"]
shape = SubResource("BoxShape3D_qmt7k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Node3D3/RigidBody3D" groups=["poppable"]]
transform = Transform3D(1.92715, 0, 0, 0, 5.00887, 0, 0, 0, 0.309748, 0, 0, 0)
mesh = SubResource("BoxMesh_ueh2b")

[node name="Node3D4" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.115666, 4.20029, -4.68296)

[node name="RigidBody3D" type="RigidBody3D" parent="SubViewportContainer/SubViewport/Node3D4" groups=["poppable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0971911, -0.898945, 0)
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
gravity_scale = 0.0
script = SubResource("GDScript_v1rev")
power = -1.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Node3D4/RigidBody3D"]
shape = SubResource("BoxShape3D_qmt7k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Node3D4/RigidBody3D" groups=["poppable"]]
transform = Transform3D(1.92715, 0, 0, 0, 5.00887, 0, 0, 0, 0.309748, 0, 0, 0)
mesh = SubResource("BoxMesh_ueh2b")

[node name="WallRight4" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, 3.16653, 3.40086, -1.70737)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.178375, 0.523438, 1)

[node name="WallRight5" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, -1.24104, 3.40086, -1.74133)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.180817, 0.523438, 1)

[node name="WallRight6" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, -3.22725, 3.40086, -5.4076)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.104798, 0.523438, 1)

[node name="WallRight7" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, 5.30076, 3.41503, -5.3997)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.104798, 0.523438, 1)

[node name="WallRight8" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, 3.16653, 3.40086, -6.4661)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.102844, 0.523438, 1)

[node name="WallRight9" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, -1.24104, 3.40086, -6.56838)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.104798, 0.523438, 1)

[node name="PauseMenu" parent="." instance=ExtResource("11_hp051")]

[node name="Node3D3" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.94917, 4.20029, -8.36081)

[node name="RigidBody3D" type="RigidBody3D" parent="Node3D3" groups=["poppable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0971911, -0.898945, 0)
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
gravity_scale = 0.0
script = SubResource("GDScript_v1rev")
power = -1.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D3/RigidBody3D"]
shape = SubResource("BoxShape3D_qmt7k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Node3D3/RigidBody3D" groups=["poppable"]]
transform = Transform3D(1.92715, 0, 0, 0, 5.00887, 0, 0, 0, 0.309748, 0, 0, 0)
mesh = SubResource("BoxMesh_ueh2b")

[node name="Node3D4" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.115666, 4.20029, -8.36081)

[node name="RigidBody3D" type="RigidBody3D" parent="Node3D4" groups=["poppable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0971911, -0.898945, 0)
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
gravity_scale = 0.0
script = SubResource("GDScript_v1rev")
power = 1.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D4/RigidBody3D"]
shape = SubResource("BoxShape3D_qmt7k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Node3D4/RigidBody3D" groups=["poppable"]]
transform = Transform3D(1.92715, 0, 0, 0, 5.00887, 0, 0, 0, 0.309748, 0, 0, 0)
mesh = SubResource("BoxMesh_ueh2b")

[node name="WallRight10" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, -3.22371, 3.40086, -9.05799)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.104798, 0.523438, 1)

[node name="WallRight11" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, 5.3043, 3.41503, -9.05009)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.104798, 0.523438, 1)

[node name="WallRight12" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, 3.17007, 3.40086, -10.1165)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.102844, 0.523438, 1)

[node name="WallRight13" type="CSGBox3D" parent="." groups=["poppable"]]
transform = Transform3D(3.64764e-06, 0, -0.266045, 0, 9.49386, 0, 27.8161, 0, 3.48876e-08, -1.2375, 3.40086, -10.2188)
material_override = ExtResource("3_kr63e")
use_collision = true
size = Vector3(0.104798, 0.523438, 1)
