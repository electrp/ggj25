[gd_scene load_steps=9 format=3 uid="uid://d1rdoudg1rfpe"]

[ext_resource type="PackedScene" uid="uid://b5logkqgxqaun" path="res://prefabs/pf_Player.tscn" id="1_2lqyt"]
[ext_resource type="Shader" path="res://assets/shaders/psx.gdshader" id="1_txtqo"]
[ext_resource type="PackedScene" uid="uid://j4sd65yaxc0i" path="res://prefabs/pf_BubbleSpawner.tscn" id="2_j1ux3"]
[ext_resource type="PackedScene" path="res://prefabs/pf_Vent.tscn" id="3_xm7k1"]
[ext_resource type="PackedScene" uid="uid://r5iernwak6gt" path="res://prefabs/pf_PauseMenu.tscn" id="5_upi7x"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1nht1"]
shader = ExtResource("1_txtqo")
shader_parameter/enabled = true
shader_parameter/dithering = true
shader_parameter/colors = 12
shader_parameter/dither_size = 1

[sub_resource type="BoxMesh" id="BoxMesh_kqw4f"]

[sub_resource type="GDScript" id="GDScript_mkm0p"]
resource_name = "wall"
script/source = "extends CSGBox3D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass


func _on_pf_vent_bubble_entered() -> void:
	self.queue_free()
	pass # Replace with function body.
"

[node name="Node3D2" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_1nht1")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 2.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 2

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(640, 360)
render_target_update_mode = 4

[node name="Floor" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(100, 0, 0, 0, 1, 0, 0, 0, 100, 0, 0.361331, 0)
use_collision = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000330696, 0, -5.91278e-07)
mesh = SubResource("BoxMesh_kqw4f")
skeleton = NodePath("")

[node name="WallLeft" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(10, 0, 0, 0, 9.49386, 0, 0, 0, 0.266045, -0.0106361, 5.60184, -5.15279)
use_collision = true

[node name="WallRight" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(-27.8161, 0, -2.32584e-08, 0, 9.49386, 0, 2.43176e-06, 0, -0.266045, 4.80899, 5.63414, 5.08551)
use_collision = true
size = Vector3(0.70166, 1, 1)

[node name="WallBack" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(-4.37114e-07, 0, -0.266045, 0, 9.49386, 0, 10, 0, -1.16292e-08, -5.14368, 5.65043, -0.00750303)
use_collision = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-0.0130407, -0.914685, 0.403957, -0.0295129, 0.404168, 0.914209, -0.999479, -3.72199e-08, -0.0322656, 13.3562, 19.5897, 0)

[node name="WallLeft2" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(-4.37114e-07, 0, 0.266045, 0, 9.49386, 0, -10, 0, -1.16292e-08, 4.91649, 5.60184, -9.38814)
use_collision = true
size = Vector3(0.861328, 1, 1)

[node name="Player" parent="SubViewportContainer/SubViewport" instance=ExtResource("1_2lqyt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.09027, 4.21921, 0.0133736)

[node name="BubbleSpawner" parent="SubViewportContainer/SubViewport" instance=ExtResource("2_j1ux3")]
transform = Transform3D(-4.37114e-08, -0.130368, -4.37114e-08, 0, -5.69858e-09, 1, -1, 5.69858e-09, 1.91069e-15, 14.4437, 2.25992, 0.852121)

[node name="WallLeft3" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(-4.37114e-07, 0, 0.266045, 0, 9.49386, 0, -10, 0, -1.16292e-08, 14.5256, 5.60869, -0.0827174)
use_collision = true

[node name="WallLeft4" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(-10, 0, -2.32584e-08, 0, 9.49386, 0, 8.74228e-07, 0, -0.266045, 14.6919, 5.57181, -13.4936)
use_collision = true
size = Vector3(1.9458, 1, 1)

[node name="WallLeft5" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(1.31134e-06, 0, -0.266045, 0, 9.49386, 0, 10, 0, 3.48876e-08, 24.3474, 5.57181, -3.70423)
use_collision = true
size = Vector3(1.9458, 1, 1)

[node name="PfVent" parent="SubViewportContainer/SubViewport" instance=ExtResource("3_xm7k1")]
transform = Transform3D(6.69158, 0, 0, 0, 1, 0, 0, 0, 1, 19.4005, 2.284, 0.667525)

[node name="WallLeft6" type="CSGBox3D" parent="SubViewportContainer/SubViewport" groups=["poppable"]]
transform = Transform3D(10, 0, 4.65168e-08, 0, 9.49386, 0, -1.74846e-06, 0, 0.266045, 18.7976, 5.46692, 5.16848)
use_collision = true
size = Vector3(1.2196, 0.990784, 1)
script = SubResource("GDScript_mkm0p")

[node name="PauseMenu" parent="." instance=ExtResource("5_upi7x")]

[connection signal="bubble_entered" from="SubViewportContainer/SubViewport/PfVent" to="SubViewportContainer/SubViewport/WallLeft6" method="_on_pf_vent_bubble_entered"]
